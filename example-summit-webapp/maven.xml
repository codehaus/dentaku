<project default="dentaku-dist" xmlns:m="jelly:maven">
    <goal name="dentaku-dist">
        <attainGoal name="jar:install-snapshot"/>
    </goal>
    <preGoal name="java:compile">
        <attainGoal name="gentaku"/>
    </preGoal>
    <goal name="gentaku">
        <taskdef name="gentaku" classname="org.dentaku.gentaku.ant.GentakuTask" classpathref="maven.dependency.classpath"/>
        <gentaku model="${basedir}//src/uml/SummitTestModel.xml.zip">
            <component classname="org.dentaku.gentaku.cartridge.summit.BasePullToolPlugin" destdir="${maven.build.src}"/>
            <component classname="org.dentaku.gentaku.cartridge.summit.PullToolPlugin" destdir="${maven.build.src}"/>
            <component classname="org.dentaku.gentaku.cartridge.summit.CrudActionPlugin" destdir="${maven.build.src}"/>
            <component classname="org.dentaku.gentaku.cartridge.summit.VelocityFormPlugin" destdir="${velocityscreens}"/>
            <component classname="org.dentaku.gentaku.cartridge.summit.GroovyValvePlugin" destdir="${maven.build.src}"/>
            <component classname="org.dentaku.gentaku.cartridge.summit.ComponentConfigPlugin" destdir="${maven.build.src}"/>
            <component classname="org.dentaku.gentaku.tools.cgen.plugin.GenGenPlugin" destdir="${basedir}/target/classes/META-INF" destinationfilename="jdo.xml" encoding="UTF-8"/>
            <component classname="org.dentaku.gentaku.cartridge.core.POJOPlugin" destdir="${maven.build.src}" stereotype="Entity"/>
            <component classname="org.dentaku.gentaku.cartridge.event.EventBasePlugin" destdir="${maven.build.src}"/> 
        </gentaku>
    </goal>
    <postGoal name="java:compile">
        <path id="maven.compile.src.set">
            <pathelement location="src/java"/>
            <pathelement location="target/src"/>
        </path>
    </postGoal>
</project>